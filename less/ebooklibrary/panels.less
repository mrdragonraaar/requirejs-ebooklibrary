//
// Panels
// --------------------------------------------------


// Panel heading
//
// Allow panel heading to include floated elements.

.panel-heading {
	line-height: @line-height-computed;

	// Prevent floats from breaking the panel-heading
	&:extend(.clearfix all);
}


// Panel title
//
// For any 'h*' tags, inherit the line height of panel heading.

.panel-title {
	line-height: inherit;
}


// Nav links
//
// Set nav to full height of panel heading.

.panel-nav {
	.panel-heading-margin-vertical();

	> li {
		float: left;

		> a {
			.panel-heading-padding-vertical();
		}
	}

	&.panel-left:first-child {
		.panel-heading-margin-left();
	}

	&.panel-right:last-child {
		.panel-heading-margin-right();
	}
}


// Dropdown menu items

// Remove background color from open dropdown
.panel-nav > .open {
	> a {
	&,
	&:hover,
	&:focus {
		//background-color: transparent;
	}
	}

	> .dropdown-menu > li > a {
		//cursor: pointer;
	}
}


// Dropdown menus

// Menu position
.panel-nav > li > .dropdown-menu {
	margin-top: 0;
	.border-top-radius(0);
}


// Buttons in panel heading
//
// Vertically center a button within a panel heading.

.panel-heading-buttons-vertical-align(@line-height-computed);

// Set button group to height of panel heading.
.panel-heading .btn-group {
	.panel-heading-margin-vertical();
	.panel-heading-padding-vertical();
}

// Set button toolbar to height of panel heading.
.panel-heading .btn-toolbar {
	.panel-heading-margin-vertical();

	// Reset button groups margin.
	> .btn-group {
		margin-top: 0;
		margin-bottom: 0;
	}
}


// Component alignment
//
// Repurpose the pull utilities as their own panel heading utilities.

.panel-left { .pull-left(); }
.panel-right { .pull-right(); }


// Alternate panels
// --------------------------------------------------

// Books panel
.panel-books {
	.panel-variant(@panel-books-border, @panel-books-text, @panel-books-heading-bg, @panel-books-border);
	background-color: @panel-books-bg;
	border: none;
	border-radius: 0;
	.box-shadow(none);

	> .panel-heading {
		#gradient.vertical(@panel-books-gradient-start, @panel-books-gradient-end);
		border-radius: 0;
		line-height: @panel-books-heading-line-height;
		.box-shadow(@panel-books-box-shadow);

		> .panel-title {
			font-size: @panel-books-title-font-size;
			font-weight: 400;
			text-transform: uppercase;
			white-space: nowrap;

			> a {
				text-decoration: none;
			}
		}

		> .panel-nav {
			> li {
				> a {
					color: @panel-books-text;

					&,
					&:hover,
					&:focus {
						//background-color: darken(@panel-books-heading-bg, 3%);
						background-color: transparent;
						outline: none;
					}
				}

				&:active > a,
				&.active > a {
					//background-color: darken(@panel-books-heading-bg, 3%);
					.box-shadow(0 3px 5px rgba(0, 0, 0, 0.125) inset);
				}

				&.disabled {
					> a {
						&,
						&:hover,
						&:focus {
							color: lighten(@panel-books-text, 7%);
							background-color: transparent;
							opacity: 0.65;
						}
					}

					&:active > a,
					&.active > a {
						.box-shadow(none);
					}
				}
			}

			.open > a {
				//background-color: darken(@panel-books-heading-bg, 3%);
				.box-shadow(0 3px 5px rgba(0, 0, 0, 0.125) inset);
			}
		}

		.panel-heading-buttons-vertical-align(@panel-books-heading-line-height);
	}

	> .panel-body {
		> .panel-content {
			&.panel-content-thumbnails {
				> .panel-content-thumbnail {
					margin-top: 10px;
					margin-bottom: 10px;

					> .thumbnail.thumbnail-book {
						@media (max-width: (@screen-xs-min - 1)) {
							width: 112px;

							a&,
							& > a {
								width: 112px;
								height: 150px;

								> img {
									width: 112px;
									height: 150px;
								}
							}

							.book-author {
								font-size: 12px;
							}

							.book-title {
								font-size: 16px;
								line-height: 20px;
							}
						}
					}
				}
			}

			&.panel-content-details {
				> .media > .pull-left {
					//@media (max-width: (@screen-xs-min - 1)) {
					@media (max-width: @screen-xs-max) {
						float: none !important;
						> .thumbnail.thumbnail-book {
						//> .thumbnail {
							margin-left: 0;
							margin-right: 0;
						}
					}
				}
			}

			&.panel-content-list {
			}
		}
	}
}


// Default panel
.panel-default {
	//.panel-variant(@panel-default-border, @panel-default-text, @panel-default-heading-bg, @panel-default-heading-border);
	.panel-variant(@panel-default-border, @panel-default-text, @panel-default-heading-bg, @navbar-default-border);
	border-radius: 0;
	border: none;
	.box-shadow(none);
	margin-bottom: 0;
	background-color: @well-bg;

	> .panel-heading {
		min-height: 50px;
		//padding-top: 15px;
		//padding-bottom: 15px;
		padding: 0;
		border-radius: 0;
		#gradient.vertical(@gradient-start-color, @gradient-stop-color, @gradient-start-percent, @gradient-stop-percent);
		//.box-shadow(@box-bottom-hshadow @box-bottom-vshadow @box-blur @box-color);
		border-top: none;

		&:after {
			clear: both;
		}

		&:before,
		&:after {
			content: " ";
			display: table;
		}

		> .panel-title {
			display: inline-block;
			line-height: 48px;
			margin-top: -15px;
			margin-bottom: -15px;
			font-size: @panel-default-title-font-size;
			font-weight: 400;
			text-transform: uppercase;
			white-space: nowrap;

			.icons-breadcrumb {
				margin-right: 5px;
			}

			.badge {
				vertical-align: middle;
				margin-left: 5px;
			}

			> a {
				display: inline-block;
				line-height: 48px;
				color: @panel-default-title-link-color;
				text-decoration: none;

				&:hover,
				&:focus {
					color: @panel-default-title-link-hover-color;
				}
			}
		}

		> .btn-toolbar {
			margin-top: -8px;
			margin-bottom: -8px;
		}
	}
}

// Authors panel
.panel-authors {
	.panel-variant(@panel-authors-border, @panel-authors-text, @panel-authors-heading-bg, @panel-authors-heading-border);
	background-color: @panel-authors-bg;
	border-radius: 0;
	.box-shadow(none);
	margin-bottom: 0;
	border: none;

	> .panel-heading {
		//padding: 0;
		border-radius: 0;
		padding-left: 0;
		padding-right: 0;

		> .panel-nav {
			width: 100%;
			margin-left: 0;
			margin-right: 0;

			> li {
				width: percentage(1/27);

				> a {
					color: initial;
					text-align: center;
					padding-left: 0;
					padding-right: 0;

					&:hover,
					&:focus {
						background-color: @panel-authors-heading-link-hover-bg;
						outline: none;
					}
				}

				&:active > a,
				&.active > a {
					background-color: @panel-authors-heading-link-hover-bg;
				}
			}
		}

/*
		> .list-group {
			display: table;
			width: 100%;
			margin-bottom: 0;

			> .list-group-item {
				display: table-cell;
				text-align: center;
				padding: 0;
				min-width: 20px;
				border: none;
				border-radius: 0;

				> a {
					display: block;
					padding-top: 10px;
					padding-bottom: 10px;
					outline: none;
					background-color: @panel-authors-heading-bg;
					cursor: pointer;

					&:hover,
					&:focus,
					&.active {
						background-color: @panel-authors-heading-link-hover-bg;
						text-decoration: none;
					}
				}
			}
		}
*/
	}

	> .panel-body {
		min-height: 130px;

		> .list-default {
			padding-left: 0;
			margin: 0;

			> li {
				padding-left: 5px;
				padding-right: 5px;
				white-space: nowrap;
				overflow: hidden;
				text-overflow: ellipsis;
			}
		}
	}

	@media (max-width: @grid-float-breakpoint-max) {
		display: table;
		width: 100%;

		> .panel-heading {
			display: table-cell;
			vertical-align: top;
			width: 58px;
			border-bottom: none;
			border-right: 1px solid @panel-authors-heading-border;

			> .panel-nav {
				> li {
					float: none;
					width: 58px;
				}
			}
		}
	}

	@media (max-width: (@screen-xs-min - 1)) {
		> .panel-body {
			> .list-default {
				> li {
					float: none;
					width: 100%;
				}
			}
		}
	}

/*
	@media (max-width: @grid-float-breakpoint-max) {
		display: table;
		width: 100%;

		> .panel-heading {
			display: table-cell;
			vertical-align: top;
			width: 58px;
			border-bottom: none;
			border-right: 1px solid @panel-authors-heading-border;

			> .list-group {
				display: block;

				> .list-group-item {
					display: block;
				}
			}
		}

		> .panel-body {
			display: table-cell;
			vertical-align: top;
			width: auto;

			> .list-default {
				> li {
					float: none;
					width: 100%;
				}
			}
		}
	}
*/
}
